<ng-container *ngFor="let p of popups">
  <div 
    *ngIf="!p.overlay"
    class="l-popup"
    [style.top.px]="p.rect.top" 
    [style.left.px]="p.rect.left" 
    [style.bottom.px]="p.rect.bottom" 
    [style.right.px]="p.rect.right" 
    [style.width.px]="p.rect.width" 
    [style.height.px]="p.rect.height"
    [style.z-index]="p.rect.zIndex"
  >
    <ng-container [ngTemplateOutlet]="p.tr"></ng-container>
  </div>
  <div class="l-overlay" *ngIf="p.overlay">
    <div     
      class="l-popup"
      [style.top.px]="p.rect.top" 
      [style.left.px]="p.rect.left" 
      [style.bottom.px]="p.rect.bottom" 
      [style.right.px]="p.rect.right" 
      [style.width.px]="p.rect.width" 
      [style.height.px]="p.rect.height"
      [style.z-index]="p.rect.zIndex"
      [class.l-popup-center]="isCenter(p)"
    >
      <ng-container [ngTemplateOutlet]="p.tr"></ng-container>
    </div>
  </div>
</ng-container>
<style>
  .l-overlay{
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background: #00000020;
    pointer-events: all;
  }

  .l-popup {
    position: fixed;
    pointer-events: initial;
  }

  .l-popup-center {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);    
  }  
</style>